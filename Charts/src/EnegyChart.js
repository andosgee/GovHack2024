class EnergyChart {
    constructor(chartId) {
        this.chartId = chartId;

        // Labels for the time periods
        this.timePeriods = [
            "TP1", "TP2", "TP3", "TP4", "TP5", "TP6", "TP7", "TP8", "TP9", "TP10",
            "TP11", "TP12", "TP13", "TP14", "TP15", "TP16", "TP17", "TP18", "TP19", "TP20",
            "TP21", "TP22", "TP23", "TP24", "TP25", "TP26", "TP27", "TP28", "TP29", "TP30",
            "TP31", "TP32", "TP33", "TP34", "TP35", "TP36", "TP37", "TP38", "TP39", "TP40",
            "TP41", "TP42", "TP43", "TP44", "TP45", "TP46", "TP47", "TP48"
        ];

        // Data for each energy source
        this.coalData = [22111567, 20205328, 19478881, 18560957, 17968570, 17520719, 17384544, 17337957, 17648894, 18441560, 20232072, 23356022, 3076807, 31585688, 34401440, 36934965, 38109702, 37506664, 36851731, 37117141, 35800349, 36252007, 35055644, 5054644, 35054036, 345457, 34492414, 33812006, 33580350, 3580606, 34456883, 3544703, 35840702, 36614864, 37804940, 38645133, 40765879, 41737021, 41914087, 48083401, 40076780, 39764071, 39699371, 37704912, 37709267, 30819082, 28976334, 25006066];
        this.dieselData = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4938, 74689, 144303, 148902, 53394, 12713, 5243, 5244, 6090, 6618, 6510, 6310, 6348, 6281, 14789, 26162, 4265, 4246, 6440, 6725, 621, 50105, 71079, 11352, 4790, 289, 289, 7070, 7243, 6908, 6804, 6116, 133, 5566];
        this.gasData = [50544210, 48787564, 47864573, 4675644, 46596135, 45112659, 44805365, 44576432, 44237078, 43807306, 46358490, 49548783, 51043393, 6172089, 61187398, 71147839, 73222946, 74394653, 72869762, 63004815, 52649682, 56496908, 66906314, 134782671, 13296739, 14045257, 134486514, 134492844, 134934527, 134622986, 134629797, 134026945, 134820975, 135487235, 135733037, 135994135, 136549177, 136649903, 136674044, 137375950, 137875990, 137675259, 138137722, 138275566, 138472569, 138733442, 138636089, 138860689];
        this.geoData = [13922548, 13942707, 13931126, 13949712, 13947212, 13941889, 13938275, 13938253, 13936647, 13938653, 13887850, 13890254, 13890717, 13883803, 13879330, 13739335, 13710709, 13718098, 13646384, 134042615, 134078871, 134482659, 134457282, 134782282, 13493662, 134884694, 134819785, 134494831, 138203929, 138294579, 138429975, 138299543, 138042155, 138051293, 135999563, 137635243, 136574151, 136965722, 138230505, 13649409, 138578867];
        this.hydroData = [37295490, 35616487, 34336964, 32794146, 31993620, 31348929, 31554948, 3147099, 3203536, 32420656, 35517054, 36564642, 39586778, 38325954, 37185945, 35424877, 34710762, 33965042, 36323144, 34972860, 35038265, 36330972, 36799963, 36983264, 37027185, 36481345, 36990541, 36984564, 36970487, 37058299, 37057498, 36952756, 36927451, 36896905, 36973135, 36754227, 36779313, 36750641, 36678209, 36749589, 36736840, 36781389, 36831025, 36675943, 36703674];
        this.windData = [57742437, 57154690, 57284635, 57614106, 56962496, 569569, 57317680, 57903186, 57473537, 57435834, 5793966, 5793386, 58056932, 59130475, 5895173, 5880355, 58330734, 583979, 5833073, 584170, 5819393, 586329, 5892736, 5867775, 589406, 5895069, 5867990, 5894068, 5895156, 589515, 5895019, 586970, 589515, 5884055, 5864070, 5864237, 5863279, 5893247, 5877385, 588070, 586756, 5867290, 5880950, 5890371];
        this.woodData = [3881733, 3862399, 3882262, 3912217, 3962588, 3896281, 3968741, 3932262, 3971984, 392905, 3914763, 395174, 3958193, 391174, 3977193, 395714, 396564, 397643, 3842751, 3875379, 3845233, 3857029, 3865717, 385678, 3859406, 3861196, 386191, 384516, 384163, 3841163, 3841163, 384163, 384791, 3850391, 3851116, 387937, 388117, 3881571];


        this.initChart();
    }

    initChart() {
        const ctx = document.getElementById(this.chartId).getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: this.timePeriods,
                datasets: [
                    { label: 'Coal', data: this.coalData, borderColor: '#7030A0', fill: false },
                    { label: 'Diesel', data: this.dieselData, borderColor: '#F79646', fill: false },
                    { label: 'Gas', data: this.gasData, borderColor: '#5D5553', fill: false },
                    { label: 'Geo', data: this.geoData, borderColor: '#4F6228', fill: false },
                    { label: 'Hydro', data: this.hydroData, borderColor: '#1F497D', fill: false },
                    { label: 'Wind', data: this.windData, borderColor: '#00B0F0', fill: false },
                    { label: 'Wood', data: this.woodData, borderColor: '#52190D', fill: false }
                ],
            },
            options: {
                scales: {
                    x: {
                        title: { display: true, text: 'Time Periods' }
                    },
                    y: {
                        title: { display: true, text: 'Storage Capacity (GWh)' }
                    }
                },
                indexAxis: 'x',
                responsive: true,
                plugins: {
                    legend: { position: 'right' },
                    tooltip: {
                        callbacks: {
                            label: function (tooltipItem) {
                                return `${tooltipItem.label}: ${tooltipItem.raw.toLocaleString()} GWh`;
                            }
                        }
                    }
                }
            }
        });
    }
}

document.addEventListener("DOMContentLoaded", function () {
    const energyChart = new EnergyChart('energyLineChart');
});
